## なんか上手くいかないとこ、直したいとことかのメモ

一応調べたり考えたりしてもいい感じの答えが見つからなかったやつ

### ルーティング回り

- （できるだけ）型安全にしたい
  - 自分で書いたけど限界がある、プロダクトでやるのは怖い
  - Aspida？とか使うほうがよさそう

### API Routes

- REST めんどくさい

### Prisma

- 中間テーブルあるときなんかめんどくさい. user が follower, following（どっちも user モデル）を持つときみたいな。 User: {id: string, followers: User[]} みたいな形でとれないの？
  - 自分で成形すればいいけどめんどくさい
  - implict でやると勝手にやってくれるけど、中間テーブルに情報欲しかったらできない
    - 後から中間テーブルに情報欲しくなる可能性とか普通にありそうなのにマイグレーション融通利かなさそうなのはどうなのか

### ChakraUI

- 基本的にはいい感じ
- theme をカスタマイズしたときに、props の型にそれが反映されて欲しい
  - 調べたけどわからん
- オリジナル UI コンポーネント作ったとき（例えば Card とか）その theme（baseStyle）をどこに定義するのがよさそうか
  - Card.tsx 側に定義して theme に渡す？
    - （インターフェース的な意味で）Chakra に依存してる感が強いのが微妙な気がする
      - 割り切って依存した方が楽なら開発効率的にはそのほうがいい気もする
    - Card, Panle みたいな利用頻度の高そうなベースコンポーネントは theme にいれたほうがよさそう
    - UI コンポーネント全部これでやるのは多分めんどくさいし theme がどんどん肥大化する。どこまでやるか問題
  - Card.tsx 内で Chakra 提供フックス使ってスタイリングする
    - コンポーネントのスタイルとかインタフェースをコンポーネント内に閉じれるという意味ではよさそう
    - ダークモード対応はこれだけでやるのは結構めんどい
